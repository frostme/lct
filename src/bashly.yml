name: lct
help: Local configuration tool
version: 0.5.0
dependencies:
  - bash
  - curl
  - git
  - pv
  - tar
  - xz
  - yq
commands:
  - import: src/commands/lib/lib.yml
  - import: src/commands/env/env.yml
  - import: src/commands/plugin/plugin.yml
  - name: bootstrap
    alias: b
    help: Bootstrap your local configuration
    examples:
      - lct bootstrap
      - lct bootstrap -c 26.01.20
    flags:
      - long: --config
        short: -c
        arg: config
        help: Config version to bootstrap
        completions:
          - $(ls $HOME/.local/share/lct/config_versions/ 2>/dev/null | grep -E '^[0-9]{4}\.[0-9]{2}\.[0-9]{2}\.tar\.xz$' | sed 's/\.tar\.xz$//' | tr '\n' ' ')
  - name: completions
    help: |-
      Generate bash completions
      Usage: eval "\$(lct completions)"
  - name: config
    help: Open your config files in your $EDITOR
    completions:
      - $(ls $HOME/.config/ 2> /dev/null | tr '\n' ' ')
    examples:
      - lct config
      - lct config alacritty
    args:
      - name: lib_name
        help: Name of the config library to open
  - name: setup
    help: Setup lct in your shell
    examples:
      - eval "$(lct setup)"
  - name: gather
    alias: g
    help: Gather local configuration files
    examples:
      - lct gather
    flags:
      - long: --force
        short: -f
        help: overwrite existing version if conflicting
  - name: prune
    help: Prune config and plugins files
    examples:
      - lct prune
      - lct prune --plugins
      - lct prune --plugins --unused --dry
      - lct prune -pud
    flags:
      - long: --plugins
        short: -p
        help: Prune unused plugins
      - long: --unused
        short: -u
        help: Prune unused config files
      - long: --cache
        short: -c
        help: Prune cache files
      - long: --dry
        short: -d
        help: Show all files that would be pruned
