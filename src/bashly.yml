name: lct
help: Local configuration tool
version: 0.5.1
dependencies:
  - gum
  - yq
x_pages:
  title: LCT
  tagline: Local configuration tool
  overview: |-
    LCT helps you capture, share, and restore local configuration in a repeatable
    way. Use it to bootstrap machines, gather dotfiles, and manage config
    libraries with a stable CLI you can script against.
  quickstart:
    - label: Install
      command: curl -fsSL https://frostme.github.io/lct/install.sh | bash
      description: Installs the latest release and puts `lct` on your PATH.
    - label: Bootstrap your config
      command: lct bootstrap
      description: Apply your saved config and plugins on a new machine.
    - label: Gather configs
      command: lct gather
      description: Capture and version local configs for reuse.
  highlights:
    - title: Predictable CLI output
      description: Designed for automation-friendly, repeatable workflows.
    - title: Pluggable configuration
      description: Organize config libraries and plugin collections cleanly.
    - title: Safe defaults
      description: Lean on dry-runs and explicit prompts before destructive actions.
  footer: Want more? Visit the README for the full workflow and support links.
  repo_url: https://github.com/frostme/lct
  accent_color: "#4f46e5"
  links:
    - label: README
      url: https://github.com/frostme/lct
    - label: Install Script
      url: https://frostme.github.io/lct/install.sh
commands:
  - name: init
    help: Initialize lct configuration
    examples:
      - lct init
  - name: bootstrap
    alias: b
    help: Bootstrap your local configuration
    examples:
      - lct bootstrap
      - lct bootstrap -c 26.01.20
    flags:
      - long: --config
        short: -c
        arg: config
        help: Config version to bootstrap
        completions:
          - $(ls $HOME/.local/share/lct/config_versions/ 2>/dev/null | grep -E '^[0-9]{4}\.[0-9]{2}\.[0-9]{2}\.tar\.xz$' | sed 's/\.tar\.xz$//' | tr '\n' ' ')
  - name: gather
    alias: g
    help: Gather local configuration files
    examples:
      - lct gather
    flags:
      - long: --force
        short: -f
        help: overwrite existing version if conflicting
  - name: install
    help: Install bash script releases from GitHub
    examples:
      - lct install DannyBen/approvals.bash
    args:
      - name: module
        help: GitHub owner/repo of the module to install
  - import: src/commands/alias/alias.yml
  - import: src/commands/dotfiles/dotfiles.yml
  - import: src/commands/configs/configs.yml
  - import: src/commands/env/env.yml
  - import: src/commands/plugin/plugin.yml
  - import: src/commands/lib/lib.yml
  - name: completions
    help: |-
      Generate bash completions
      Usage: eval "\$(lct completions)"
  - name: config
    help: Open your config files in your ${EDITOR:-editor}
    completions:
      - $(ls $HOME/.config/ 2> /dev/null | tr '\n' ' ')
    examples:
      - lct config
      - lct config alacritty
    args:
      - name: lib_name
        help: Name of the config library to open
  - name: setup
    help: Setup lct in your shell
    examples:
      - eval "$(lct setup)"
  - name: prune
    help: Prune config and plugins files
    examples:
      - lct prune
      - lct prune --plugins
      - lct prune --plugins --unused --dry
      - lct prune -pud
    flags:
      - long: --plugins
        short: -p
        help: Prune unused plugins
      - long: --unused
        short: -u
        help: Prune unused config files
      - long: --cache
        short: -c
        help: Prune cache files
      - long: --dry
        short: -d
        help: Show all files that would be pruned
